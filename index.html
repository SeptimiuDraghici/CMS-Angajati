<html>
    <head>
        <title>
            CMS Angajati
        </title>
        <script language="JavaScript">
            function getInputs (form) {
                if (validateForm()) {
                    var nume = form.nume.value;
                    var prenume = form.prenume.value;
                    var email = form.email.value;
                    var gender = form.sex.value;
                    var data_nasterii = form.data_nasterii.value;
                    addRow("myTable", nume, prenume, email, gender, data_nasterii);
                }
            }
            function validateForm() {
                let x = document.forms["myForm"]["nume"].value;
                if (x == "") {
                    alert("Completati campul \'Nume\'");
                    return false;
                }
                x = document.forms["myForm"]["prenume"].value;
                if (x == "") {
                    alert("Completati campul \'Prenume\'");
                    return false;
                }
                x = document.forms["myForm"]["email"].value;
                if (x == "" || !validateEmail(x)) {
                    alert("\'Email\' invalid!");
                    return false;
                }
                x = document.forms["myForm"]["sex"].value;
                if (x == "") {
                    alert("Completati campul \'Sex\'");
                    return false;
                }
                x = document.forms["myForm"]["data_nasterii"].value;
                if (x == "" || !validateDate(x)) {
                    alert("\'Data nasterii\' invalida!");
                    return false;
                }
                return true;
            }
            function validateEmail(email) {
                const re = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
                return re.test(String(email));
            }
            function validateDate(myDate){
                var before = new Date(myDate);
                var now = new Date();
                if(before <= now)
                {
                    return true;
                }
                return false;
            }
            function addRow(tableID, nume, prenume, email, gender, data_nasterii) {
                var table = document.getElementById(tableID);

                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);

                var cell1 = row.insertCell(0);
                cell1.innerHTML = rowCount - 1;

                var cell2 = row.insertCell(1);
                var element1 = document.createTextNode(nume);
                cell2.appendChild(element1);

                var cell3 = row.insertCell(2);
                var element2 = document.createTextNode(prenume);
                cell3.appendChild(element2);

                var cell4 = row.insertCell(3);
                var element3 = document.createTextNode(email);
                cell4.appendChild(element3);

                var cell5 = row.insertCell(4);
                var element4 = document.createTextNode(gender);
                cell5.appendChild(element4);

                var cell6 = row.insertCell(5);
                var element5 = document.createTextNode(data_nasterii);
                cell6.appendChild(element5);
            }
        </script>
    </head>
    <body>
        <form name="myForm" method="GET">
            Nume: <input type="text" name="nume">
            <br><br>Prenume:
            <input type="text" name="prenume">
            <br><br>Email:
            <input type="text" name="email">
            <br><br>Sex:
            <select name="sex">
                <option value=""></option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Rather not say">Rather Not Say</option>
            </select>
            <br><br>Data nasterii:
            <input type="date" name="data_nasterii">
            <br><br><input type="button" name="submit" Value="Send" onClick="getInputs(this.form)">
        </form>
        <table id="myTable" style="border: solid black;">
            <tr>
                <td>ID</td>
                <td>Nume</td>
                <td>Prenume</td>
                <td>Email</td>
                <td>Sex</td>
                <td>Data nasterii:</td>
            </tr>
            <tr>
                <td id="nume"></td>
                <td id="prenume"></td>
                <td id="email"></td>
                <td id="gender"></td>
                <td id="data_nasterii"></td>
            </tr>
        </table>
    </body>
</html>